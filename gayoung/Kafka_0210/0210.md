## kafka 만들기

docker run -d --network test -p 9092:9092 --name kafka -e KAFKA_NODE_ID=1 -e KAFKA_PROCESS_ROLES=broker,controller -e KAFKA_LISTENERS=PLAINTEXT://:9092,CONTROLLER://:9093 -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092 -e KAFKA_CONTROLLER_LISTENER_NAMES=CONTROLLER -e KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT -e KAFKA_CONTROLLER_QUORUM_VOTERS=1@kafka:9093 -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 -e KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1 -e KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1 -e KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0 -e KAFKA_NUM_PARTITIONS=3 apache/kafka:4.0.1

docker network inspect bridge

## app1 초기설정
uv init .
uv add fastapi --extra standard
uv add kafka-python


## UV 이미지 생성
FROM python:3.13.11

RUN apt-get update
RUN apt-get upgrade -y
RUN curl -LsSf https://astral.sh/uv/install.sh | sh
RUN pip install uv

WORKDIR /workspace

EXPOSE 8000

docker build -t uv:1 .

## app1 Container 생성
docker run -d -it -p 8001:8000 -v ./app1:/workspace --name app1 uv:1
docker run -d --network test -it -p 8001:8000 -v ./app1:/workspace --name app1 uv:1

-IP : `172.17.0.3`

## Docker Container 접속 하기

```bash
docker exec -it kafka /bin/bash
```

## Kafka 설치 위치
- `/opt/kafka/bin/`

## 메세지확인

./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test